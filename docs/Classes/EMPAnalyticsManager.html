<!DOCTYPE html>
<html lang="en">
  <head>
    <title>EMPAnalyticsManager Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset="utf-8">
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
    <script src="../js/lunr.min.js" defer></script>
    <script src="../js/typeahead.jquery.js" defer></script>
    <script src="../js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/objc/Class/EMPAnalyticsManager" class="dashAnchor"></a>

    <a title="EMPAnalyticsManager Class Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="../index.html">
          EmplateSDK Docs
        </a>
        
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="../search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/Emplate/emplate-ios-sdk">
            <img class="header-icon" src="../img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="../index.html">EmplateSDK Reference</a>
      <img class="carat" src="../img/carat.png" />
      EMPAnalyticsManager Class Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Managers.html">Managers</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/EMPAnalyticsManager.html">EMPAnalyticsManager</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/EMPApiClient.html">EMPApiClient</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/EMPBeaconManager.html">EMPBeaconManager</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/EMPBeaconManagerDelegate.html">EMPBeaconManagerDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/EMPInboxManager.html">EMPInboxManager</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Managers.html#/c:objc(cs)EMPLoginManager">EMPLoginManager</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/EMPSubscriptionManager.html">EMPSubscriptionManager</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Models.html">Models</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/EMPAction.html">EMPAction</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/EMPAudience.html">EMPAudience</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/EMPBeacon.html">EMPBeacon</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/EMPBeaconCategory.html">EMPBeaconCategory</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/EMPGeofence.html">EMPGeofence</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/EMPGuest.html">EMPGuest</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/EMPOrganization.html">EMPOrganization</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/EMPPost.html">EMPPost</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/EMPPostField.html">EMPPostField</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/EMPPostPeriod.html">EMPPostPeriod</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/EMPPostView.html">EMPPostView</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/EMPPrize.html">EMPPrize</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/EMPRedemption.html">EMPRedemption</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/EMPShop.html">EMPShop</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/EMPShopCategory.html">EMPShopCategory</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/EMPToken.html">EMPToken</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Helpers.html">Helpers</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/EMPDateFormatter.html">EMPDateFormatter</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Categories.html">Categories</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Categories/UIDevice(EMPBeaconSupport).html">UIDevice(EMPBeaconSupport)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Block definitions.html">Block definitions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Block definitions.html#/c:EMPDefines.h@T@EMPObjectBlock">EMPObjectBlock</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Block definitions.html#/c:EMPDefines.h@T@EMPObjectsBlock">EMPObjectsBlock</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Block definitions.html#/c:EMPDefines.h@T@EMPErrorBlock">EMPErrorBlock</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Other Guides.html">Other Guides</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../configuration.html">Configuration</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            <h1>EMPAnalyticsManager</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight"><code><span class="k">@interface</span> <span class="nc">EMPAnalyticsManager</span> <span class="p">:</span> <span class="nc">NSObject</span></code></pre>

                </div>
              </div>
            <p>This is the EMPAnalyticsManager class. This class is used to track data about the user of the app.</p>

<p>When the service is initialized the first time, the user (EMPGuest) will automatically get a new guestId from the Emplate API. This is only done one time, and the user will keep the same guestId. Every analytics entry in the Emplate API is related to the EMPGuest.</p>

<p>To track which EMPPost objects the user is opening, you will have to use the startPostViewOfPost: and finishPostViewOfPost:. The service will automatically add the guestId, date/time to the EMPPostView, and send it to the Emplate API. <em>If you&rsquo;re using different EMPAudiences for the EMPPost objects, please use the startPostViewOfPost:audience: and finishPostViewOfPost:audience: to relate the PostViews to the audiences as well.</em></p>

<p>You will only need to handle the PostViews. BeaconViews are automatically created in the EMPBeaconManager when the phone is near beacons.</p>

<p>If the phone is offline when creating PostViews or BeaconViews, they will be cached and resent when the internet connection is reestablished.</p>

<p><em>Use the sharedManager to perform the methods in this service.</em></p>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <div class="task-name-container">
                <a name="/PostViews"></a>
                <a name="//apple_ref/objc/Section/PostViews" class="dashAnchor"></a>
                <a href="#/PostViews">
                  <h3 class="section-name">PostViews</h3>
                </a>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:objc(cs)EMPAnalyticsManager(im)startPostViewOfPost:audience:"></a>
                    <a name="//apple_ref/objc/Method/-startPostViewOfPost:audience:" class="dashAnchor"></a>
                    <a class="token" href="#/c:objc(cs)EMPAnalyticsManager(im)startPostViewOfPost:audience:">-startPostViewOfPost:audience:</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Start a new PostView (with audienceId)</p>
<div class="aside aside-see">
    <p class="aside-title">See</p>
    startPostViewOfPost:

</div>
<div class="aside aside-see">
    <p class="aside-title">See</p>
    <p>EMPPost</p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Objective-C</p>
                          <pre class="highlight"><code><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">startPostViewOfPost</span><span class="p">:(</span><span class="n"><a href="../Classes/EMPPost.html">EMPPost</a></span> <span class="o">*</span><span class="p">)</span><span class="nv">post</span> <span class="nf">audience</span><span class="p">:(</span><span class="n"><a href="../Classes/EMPAudience.html">EMPAudience</a></span> <span class="o">*</span><span class="p">)</span><span class="nv">audience</span><span class="p">;</span></code></pre>

                        </div>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">func</span> <span class="nf">startPostView</span><span class="p">(</span><span class="n">of</span> <span class="nv">post</span><span class="p">:</span> <span class="kt"><a href="../Classes/EMPPost.html">EMPPost</a></span><span class="o">!</span><span class="p">,</span> <span class="nv">audience</span><span class="p">:</span> <span class="kt"><a href="../Classes/EMPAudience.html">EMPAudience</a></span><span class="o">!</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>post</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The EMPPost to start view of</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>audience</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The EMPAudience the post is viewed by</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:objc(cs)EMPAnalyticsManager(im)finishPostViewOfPost:audience:"></a>
                    <a name="//apple_ref/objc/Method/-finishPostViewOfPost:audience:" class="dashAnchor"></a>
                    <a class="token" href="#/c:objc(cs)EMPAnalyticsManager(im)finishPostViewOfPost:audience:">-finishPostViewOfPost:audience:</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Finish an existing (with audience)</p>
<div class="aside aside-see">
    <p class="aside-title">See</p>
    startPostViewOfPost:

</div>
<div class="aside aside-see">
    <p class="aside-title">See</p>
    <p>EMPPost</p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Objective-C</p>
                          <pre class="highlight"><code><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">finishPostViewOfPost</span><span class="p">:(</span><span class="n"><a href="../Classes/EMPPost.html">EMPPost</a></span> <span class="o">*</span><span class="p">)</span><span class="nv">post</span> <span class="nf">audience</span><span class="p">:(</span><span class="n"><a href="../Classes/EMPAudience.html">EMPAudience</a></span> <span class="o">*</span><span class="p">)</span><span class="nv">audience</span><span class="p">;</span></code></pre>

                        </div>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">func</span> <span class="nf">finishPostView</span><span class="p">(</span><span class="n">of</span> <span class="nv">post</span><span class="p">:</span> <span class="kt"><a href="../Classes/EMPPost.html">EMPPost</a></span><span class="o">!</span><span class="p">,</span> <span class="nv">audience</span><span class="p">:</span> <span class="kt"><a href="../Classes/EMPAudience.html">EMPAudience</a></span><span class="o">!</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>post</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The EMPPost to finish view of</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>audience</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The EMPAudience the post is viewed by</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:objc(cs)EMPAnalyticsManager(im)startPostViewOfPost:"></a>
                    <a name="//apple_ref/objc/Method/-startPostViewOfPost:" class="dashAnchor"></a>
                    <a class="token" href="#/c:objc(cs)EMPAnalyticsManager(im)startPostViewOfPost:">-startPostViewOfPost:</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Start a new PostView</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Objective-C</p>
                          <pre class="highlight"><code><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">startPostViewOfPost</span><span class="p">:(</span><span class="n"><a href="../Classes/EMPPost.html">EMPPost</a></span> <span class="o">*</span><span class="p">)</span><span class="nv">post</span><span class="p">;</span></code></pre>

                        </div>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">func</span> <span class="nf">startPostView</span><span class="p">(</span><span class="n">of</span> <span class="nv">post</span><span class="p">:</span> <span class="kt"><a href="../Classes/EMPPost.html">EMPPost</a></span><span class="o">!</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>post</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The EMPPost to start view of</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:objc(cs)EMPAnalyticsManager(im)finishPostViewOfPost:"></a>
                    <a name="//apple_ref/objc/Method/-finishPostViewOfPost:" class="dashAnchor"></a>
                    <a class="token" href="#/c:objc(cs)EMPAnalyticsManager(im)finishPostViewOfPost:">-finishPostViewOfPost:</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Finish an existing PostView</p>
<div class="aside aside-see">
    <p class="aside-title">See</p>
    <p>EMPPost</p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Objective-C</p>
                          <pre class="highlight"><code><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">finishPostViewOfPost</span><span class="p">:(</span><span class="n"><a href="../Classes/EMPPost.html">EMPPost</a></span> <span class="o">*</span><span class="p">)</span><span class="nv">post</span><span class="p">;</span></code></pre>

                        </div>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">func</span> <span class="nf">finishPostView</span><span class="p">(</span><span class="n">of</span> <span class="nv">post</span><span class="p">:</span> <span class="kt"><a href="../Classes/EMPPost.html">EMPPost</a></span><span class="o">!</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>post</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The EMPPost to finish view of</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Singleton"></a>
                <a name="//apple_ref/objc/Section/Singleton" class="dashAnchor"></a>
                <a href="#/Singleton">
                  <h3 class="section-name">Singleton</h3>
                </a>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:objc(cs)EMPAnalyticsManager(cm)sharedManager"></a>
                    <a name="//apple_ref/objc/Method/+sharedManager" class="dashAnchor"></a>
                    <a class="token" href="#/c:objc(cs)EMPAnalyticsManager(cm)sharedManager">+sharedManager</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The shared instance of the AnalyticsService</p>

<p><em>This should be used for all analytics operations.</em></p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Objective-C</p>
                          <pre class="highlight"><code><span class="k">+</span> <span class="p">(</span><span class="n">EMPAnalyticsManager</span> <span class="o">*</span><span class="p">)</span><span class="n">sharedManager</span><span class="p">;</span></code></pre>

                        </div>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">class</span> <span class="kd">func</span> <span class="nf">shared</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">EMPAnalyticsManager</span><span class="o">!</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>EMPAnalyticsManager</p>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>© 2017 <a class="link" href="http://emplate.it" target="_blank" rel="external">Emplate ApS</a>. All rights reserved.</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.8.3</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
